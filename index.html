<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="description" content="Há»‡ thá»‘ng tÆ° váº¥n hÆ°á»›ng nghiá»‡p AI cho há»c sinh THPT Viá»‡t Nam">
<title>HÆ°á»›ngNghiá»‡p AI</title>
<style>
/* â”€â”€ RESET & BASE â”€â”€ */
*{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:#F7F5F0;--ink:#1A1A18;--ink2:#5C5C58;--ink3:#A8A8A2;
  --green:#2D6A4F;--green-lt:#E8F4EE;--orange:#E76F51;
  --line:#E2DFD8;--white:#fff;
  --f: Georgia,'Times New Roman',serif;
  --s: system-ui,-apple-system,sans-serif;
}
html{scroll-behavior:smooth}
body{background:var(--bg);color:var(--ink);font-family:var(--s);font-size:16px;line-height:1.65}

/* â”€â”€ NAV â”€â”€ */
nav{
  position:sticky;top:0;z-index:99;
  background:var(--bg);border-bottom:1px solid var(--line);
  padding:0 4vw;height:52px;
  display:flex;align-items:center;justify-content:space-between;
}
.logo{font-family:var(--f);font-size:1.15rem;color:var(--ink);text-decoration:none}
.logo span{color:var(--green)}
.nav-links{display:flex;gap:1.25rem;list-style:none}
.nav-links a{font-size:.82rem;font-weight:500;color:var(--ink2);text-decoration:none}
.nav-links a:hover{color:var(--ink)}
.nav-cta{background:var(--ink)!important;color:var(--white)!important;padding:.35rem .9rem;border-radius:5px}

/* â”€â”€ LAYOUT â”€â”€ */
.wrap{max-width:1060px;margin:0 auto;padding:0 4vw}
section{padding:72px 4vw;border-top:1px solid var(--line)}
.lbl{font-size:.72rem;font-weight:700;letter-spacing:.12em;text-transform:uppercase;color:var(--ink3);margin-bottom:.6rem}
.ttl{font-family:var(--f);font-size:clamp(1.85rem,4vw,2.6rem);line-height:1.15;margin-bottom:.9rem}
.ttl em{font-style:italic;color:var(--green)}
.sub{font-size:.97rem;color:var(--ink2);max-width:540px;line-height:1.75;margin-bottom:3rem}

/* â”€â”€ HERO â”€â”€ */
#hero{border-top:none;padding-top:80px;padding-bottom:64px}
.hero-grid{display:grid;grid-template-columns:1fr 1fr;gap:56px;align-items:center;max-width:1060px;margin:0 auto}
.eyebrow{display:flex;align-items:center;gap:8px;font-size:.75rem;font-weight:700;letter-spacing:.1em;text-transform:uppercase;color:var(--green);margin-bottom:1.25rem}
.eyebrow::before{content:'';width:18px;height:2px;background:var(--green)}
.hero-title{font-family:var(--f);font-size:clamp(2.4rem,5vw,3.6rem);line-height:1.1;margin-bottom:1.25rem}
.hero-title em{font-style:italic;color:var(--green)}
.hero-desc{font-size:1rem;color:var(--ink2);line-height:1.75;margin-bottom:2rem;max-width:460px}
.btn-row{display:flex;gap:.75rem;flex-wrap:wrap}
.btn-p{background:var(--ink);color:var(--white);padding:.8rem 1.75rem;border-radius:7px;font-family:var(--s);font-size:.92rem;font-weight:500;text-decoration:none;display:inline-block}
.btn-p:hover{background:var(--green)}
.btn-s{background:transparent;color:var(--ink);padding:.8rem 1.75rem;border-radius:7px;border:1.5px solid var(--line);font-family:var(--s);font-size:.92rem;font-weight:500;text-decoration:none;display:inline-block}
.btn-s:hover{border-color:var(--ink)}
.stats-grid{display:grid;grid-template-columns:1fr 1fr;gap:1px;background:var(--line);border:1px solid var(--line);border-radius:10px;overflow:hidden}
.stat{background:var(--white);padding:1.75rem 1.5rem}
.stat-n{font-family:var(--f);font-size:2.6rem;line-height:1;margin-bottom:.3rem}
.stat-n span{color:var(--green)}
.stat-l{font-size:.8rem;color:var(--ink2);line-height:1.4}

/* â”€â”€ PROBLEM â”€â”€ */
.prob-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1px;background:var(--line);border:1px solid var(--line);border-radius:10px;overflow:hidden}
.prob-card{background:var(--white);padding:2rem 1.75rem}
.prob-pct{font-family:var(--f);font-size:3.2rem;line-height:1;color:var(--orange);margin-bottom:.6rem}
.prob-txt{font-size:.88rem;color:var(--ink2);line-height:1.6}
.prob-txt strong{color:var(--ink)}

/* â”€â”€ HOW â”€â”€ */
#how{background:var(--ink)}
#how .lbl{color:rgba(255,255,255,.35)}
#how .ttl{color:var(--white)}
#how .ttl em{color:#74C69D}
#how .sub{color:rgba(255,255,255,.5)}
.steps{display:flex;flex-direction:column}
.step{display:grid;grid-template-columns:64px 1fr;gap:1.5rem;align-items:start;padding:1.75rem 0;border-bottom:1px solid rgba(255,255,255,.08)}
.step:last-child{border-bottom:none}
.step-n{font-family:var(--f);font-size:2.75rem;line-height:1;color:rgba(255,255,255,.12)}
.step-ttl{font-size:1rem;font-weight:600;color:var(--white);margin-bottom:.35rem}
.step-desc{font-size:.88rem;color:rgba(255,255,255,.5);line-height:1.6}
.tag{display:inline-block;margin-top:.5rem;background:rgba(116,198,157,.15);color:#74C69D;font-size:.7rem;font-weight:700;letter-spacing:.08em;text-transform:uppercase;padding:.22rem .6rem;border-radius:3px}

/* â”€â”€ AI TECH â”€â”€ */
.ai-grid{display:grid;grid-template-columns:1fr 1fr;gap:52px;align-items:start;margin-top:3rem}
.ai-text p{font-size:.93rem;color:var(--ink2);line-height:1.8;margin-bottom:1.1rem}
.ai-text p strong{color:var(--ink)}
.pills{display:flex;flex-wrap:wrap;gap:.4rem;margin-top:1.25rem}
.pill{background:var(--green-lt);color:var(--green);font-size:.75rem;font-weight:700;padding:.28rem .75rem;border-radius:20px}
.diagram{background:var(--white);border:1px solid var(--line);border-radius:10px;padding:1.75rem}
.d-title{font-size:.7rem;font-weight:700;letter-spacing:.1em;text-transform:uppercase;color:var(--ink3);margin-bottom:1.25rem}
.d-title{font-size:.7rem;font-weight:700;letter-spacing:.1em;text-transform:uppercase;color:var(--ink3);margin-bottom:1.25rem}

/* â”€â”€ VALUE â”€â”€ */
#value{background:var(--green-lt);border-top:1px solid #C8E6D8}
.val-contrast{display:grid;grid-template-columns:1fr 1fr;gap:1px;background:var(--line);border:1px solid var(--line);border-radius:10px;overflow:hidden;margin-bottom:2rem}
.vc-col{padding:1.75rem}
.vc-col:first-child{background:#FFF8F6}
.vc-col:last-child{background:var(--green-lt)}
.vc-head{font-size:.7rem;font-weight:700;letter-spacing:.1em;text-transform:uppercase;margin-bottom:.9rem}
.vc-col:first-child .vc-head{color:#C0775A}
.vc-col:last-child .vc-head{color:var(--green)}
.vc-list{list-style:none;display:flex;flex-direction:column;gap:.55rem}
.vc-list li{font-size:.85rem;color:var(--ink2);padding-left:1.1rem;position:relative}
.vc-list li::before{position:absolute;left:0}
.vc-col:first-child .vc-list li::before{content:'âœ—';color:#D0A090}
.vc-col:last-child .vc-list li::before{content:'âœ“';color:var(--green)}
.val-grid{display:grid;grid-template-columns:1fr 1fr;gap:1.25rem;margin-top:.5rem}
.val-card{background:var(--white);border-radius:9px;padding:1.75rem;border:1px solid #D4EBE0}
.val-icon{font-size:1.2rem;margin-bottom:.75rem;display:block}
.val-card h3{font-size:.92rem;font-weight:600;margin-bottom:.4rem}
.val-card p{font-size:.84rem;color:var(--ink2);line-height:1.65}
.impact{background:var(--white);border-radius:9px;padding:1.75rem;margin-top:1.25rem;border:1px solid #D4EBE0;display:flex;gap:1.25rem;align-items:flex-start}
.impact-ico{font-size:1.75rem;flex-shrink:0}
.impact-txt strong{display:block;font-size:.92rem;margin-bottom:.25rem}
.impact-txt span{font-size:.83rem;color:var(--ink2);line-height:1.6}

/* â”€â”€ FORM â”€â”€ */
#try{border-top:1px solid var(--line)}
#try .ttl{text-align:center}
#try .sub{text-align:center;margin-left:auto;margin-right:auto}
.form-wrap{max-width:620px;margin:2.5rem auto 0;background:var(--white);border:1px solid var(--line);border-radius:14px;padding:2.25rem}
.progress-bar{height:3px;background:var(--line);border-radius:2px;margin-bottom:1.75rem;overflow:hidden}
.progress-fill{height:100%;background:var(--green);border-radius:2px;width:20%}
.form-step{display:none}
.form-step.active{display:block}
.f-lbl{font-size:.75rem;font-weight:700;letter-spacing:.08em;text-transform:uppercase;color:var(--ink3);margin-bottom:.5rem;display:block}
.f-q{font-family:var(--f);font-size:1.25rem;line-height:1.3;margin-bottom:1.25rem;color:var(--ink)}
.ans-wrap{margin-bottom:.6rem}
textarea.ans{width:100%;border:1.5px solid var(--line);border-radius:8px;padding:.8rem .9rem;font-family:var(--s);font-size:.9rem;color:var(--ink);background:var(--bg);resize:vertical;min-height:100px;line-height:1.6;outline:none}
textarea.ans:focus{border-color:var(--green);background:var(--white)}
textarea.ans.err{border-color:var(--orange)}
textarea.ans::placeholder{color:var(--ink3);font-size:.83rem}
.ans-foot{display:flex;justify-content:space-between;align-items:center;margin-top:.35rem;min-height:1.1rem}
.counter{font-size:.73rem;color:var(--ink3)}
.counter.warn{color:var(--orange)}
.errmsg{font-size:.75rem;color:var(--orange);font-weight:500;display:none}
.errmsg.show{display:block}
.btn-next{width:100%;background:var(--ink);color:var(--white);border:none;border-radius:7px;padding:.8rem 1.5rem;font-family:var(--s);font-size:.9rem;font-weight:500;cursor:pointer;margin-top:.25rem}
.btn-next:hover:not(:disabled){background:var(--green)}
.btn-next:disabled{background:var(--line);color:var(--ink3);cursor:not-allowed}

/* â”€â”€ LOADING â”€â”€ */
#loading{display:none;padding:2.5rem 2rem;text-align:center}
.spin{display:inline-block;width:32px;height:32px;border:3px solid var(--line);border-top-color:var(--green);border-radius:50%;animation:spin .9s linear infinite;margin-bottom:1rem}
@keyframes spin{to{transform:rotate(360deg)}}
.loading-title{font-family:var(--f);font-size:1.1rem;margin-bottom:1.25rem}
.l-steps{text-align:left;display:flex;flex-direction:column;gap:.4rem;max-width:340px;margin:0 auto}
.l-step{font-size:.82rem;color:var(--ink3);padding:.4rem .7rem;border-radius:5px;border:1px solid transparent}
.l-step.on{color:var(--green);background:var(--green-lt);border-color:#C8E6D8}
.l-step.ok{color:var(--ink2)}
.l-step.ok::before{content:'âœ“ '}

/* â”€â”€ RESULT â”€â”€ */
#result{display:none;padding:0}
.r-head{text-align:center;margin-bottom:1.5rem}
.r-head h2{font-family:var(--f);font-size:1.4rem;margin-bottom:.35rem}
.r-head p{font-size:.85rem;color:var(--ink2)}
.fv{background:var(--bg);border:1px solid var(--line);border-radius:8px;padding:1.1rem 1.25rem;margin-bottom:1.25rem;display:none}
.fv-lbl{font-size:.68rem;font-weight:700;letter-spacing:.1em;text-transform:uppercase;color:var(--ink3);margin-bottom:.65rem}
.fv-tags{display:flex;flex-wrap:wrap;gap:.4rem}
.fvt{font-size:.74rem;font-weight:700;padding:.25rem .65rem;border-radius:20px;border:1px solid}
.fvt.r{background:var(--green-lt);color:var(--green);border-color:#C8E6D8}
.fvt.a{background:#EEF2FF;color:#4F5BD5;border-color:#C7D0F8}
.fvt.f{background:#FFF4EC;color:#C0613A;border-color:#F5D5C0}
.fvt.g{background:#F5F0FF;color:#7B5EA7;border-color:#D9C8F0}
.careers{display:flex;flex-direction:column;gap:.6rem;margin-bottom:1.25rem}
.c-card{border:1.5px solid var(--line);border-radius:7px;padding:.9rem 1.1rem;display:flex;align-items:center;gap:.9rem}
.c-card.top{border-color:var(--green);background:var(--green-lt)}
.c-score{font-family:var(--f);font-size:1.35rem;color:var(--green);min-width:50px;text-align:center}
.c-info h4{font-size:.9rem;font-weight:600;margin-bottom:.15rem}
.c-info p{font-size:.77rem;color:var(--ink2)}
.r-note{font-size:.76rem;color:var(--ink3);text-align:center;line-height:1.6;border-top:1px solid var(--line);padding-top:.9rem;margin-bottom:1.1rem}
.btn-reset{display:block;width:100%;background:transparent;border:1.5px solid var(--line);border-radius:7px;padding:.75rem;font-family:var(--s);font-size:.87rem;font-weight:500;color:var(--ink);cursor:pointer}
.btn-reset:hover{border-color:var(--ink)}

/* â”€â”€ FOOTER â”€â”€ */
footer{padding:2rem 4vw;border-top:1px solid var(--line);display:flex;justify-content:space-between;flex-wrap:wrap;gap:.75rem}
.f-logo{font-family:var(--f);font-size:1rem}
.f-logo span{color:var(--green)}
.f-note{font-size:.76rem;color:var(--ink3)}

/* â”€â”€ RESPONSIVE â”€â”€ */
@media(max-width:700px){
  .hero-grid,.ai-grid,.val-contrast,.val-grid,.prob-grid,.stats-grid{grid-template-columns:1fr}
  .nav-links{display:none}
  .step{grid-template-columns:48px 1fr;gap:1rem}
  .impact{flex-direction:column}
  section{padding:52px 4vw}
  #hero{padding-top:64px;padding-bottom:48px}
}
</style>
</head>
<body>

<nav>
  <a class="logo" href="#"><span>HÆ°á»›ng</span>Nghiá»‡p AI</a>
  <ul class="nav-links">
    <li><a href="#problem">Váº¥n Ä‘á»</a></li>
    <li><a href="#how">Quy trÃ¬nh</a></li>
    <li><a href="#ai">CÃ´ng nghá»‡</a></li>
    <li><a href="#value">GiÃ¡ trá»‹</a></li>
    <li><a href="#try" class="nav-cta">Thá»­ ngay</a></li>
  </ul>
</nav>

<!-- HERO -->
<section id="hero">
  <div class="hero-grid">
    <div>
      <div class="eyebrow">AI-powered Â· Dá»¯ liá»‡u thá»±c táº¿ Viá»‡t Nam</div>
      <h1 class="hero-title">TÃ¬m ngÃ nh há»c<br><em>Ä‘Ãºng vá»›i báº¡n</em><br>khÃ´ng pháº£i Ä‘Ã¡m Ä‘Ã´ng</h1>
      <p class="hero-desc">60% há»c sinh chá»n sai ngÃ nh. Há»‡ thá»‘ng phÃ¢n tÃ­ch há»“ sÆ¡ cÃ¡ nhÃ¢n vÃ  khá»›p vá»›i hÃ ng trÄƒm nghá» nghiá»‡p â€” cÃ³ Ä‘iá»ƒm chuáº©n vÃ  há»c phÃ­ thá»±c táº¿ cá»§a cÃ¡c trÆ°á»ng Viá»‡t Nam.</p>
      <div class="btn-row">
        <a href="#try" class="btn-p">Báº¯t Ä‘áº§u miá»…n phÃ­ â†’</a>
        <a href="#how" class="btn-s">Xem cÃ¡ch hoáº¡t Ä‘á»™ng</a>
      </div>
    </div>
    <div class="stats-grid">
      <div class="stat"><div class="stat-n"><span>60</span>%</div><div class="stat-l">há»c sinh chá»n ngÃ nh chÆ°a phÃ¹ há»£p vá»›i nÄƒng lá»±c</div></div>
      <div class="stat"><div class="stat-n"><span>75</span>%</div><div class="stat-l">chÆ°a hiá»ƒu rÃµ nghá» nghiá»‡p tÆ°Æ¡ng lai trÆ°á»›c khi chá»n</div></div>
      <div class="stat"><div class="stat-n"><span>65</span>%</div><div class="stat-l">sinh viÃªn nÄƒm 1 chÆ°a náº¯m rÃµ má»¥c tiÃªu ngÃ nh há»c</div></div>
      <div class="stat"><div class="stat-n"><span>20</span>%</div><div class="stat-l">bá» há»c hoáº·c chuyá»ƒn ngÃ nh sau nÄƒm Ä‘áº§u Ä‘áº¡i há»c</div></div>
    </div>
  </div>
</section>

<!-- PROBLEM -->
<section id="problem">
  <div class="wrap">
    <div class="lbl">Váº¥n Ä‘á»</div>
    <h2 class="ttl">Táº¡i sao chá»n ngÃ nh<br><em>láº¡i khÃ³ Ä‘áº¿n váº­y?</em></h2>
    <p class="sub">KhÃ´ng pháº£i há»c sinh thiáº¿u thÃ´ng minh â€” há» thiáº¿u thÃ´ng tin Ä‘Ãºng vÃ  cÃ´ng cá»¥ phÃ¢n tÃ­ch phÃ¹ há»£p vá»›i bá»‘i cáº£nh Viá»‡t Nam.</p>
    <div class="prob-grid">
      <div class="prob-card"><div class="prob-pct">60%</div><div class="prob-txt"><strong>Chá»n ngÃ nh thiáº¿u phÃ¹ há»£p</strong><br>Theo kháº£o sÃ¡t Trung tÃ¢m Dá»± bÃ¡o NhÃ¢n lá»±c TP.HCM 2023 â€” Ä‘a sá»‘ do thiáº¿u cÃ´ng cá»¥ phÃ¢n tÃ­ch cÃ¡ nhÃ¢n hÃ³a.</div></div>
      <div class="prob-card"><div class="prob-pct">75%</div><div class="prob-txt"><strong>Thiáº¿u hiá»ƒu biáº¿t vá» nghá»</strong><br>Pháº§n lá»›n há»c sinh khÃ´ng cÃ³ Ä‘á»§ thÃ´ng tin vá» yÃªu cáº§u, mÃ´i trÆ°á»ng lÃ m viá»‡c vÃ  thu nháº­p thá»±c táº¿ cá»§a nghá».</div></div>
      <div class="prob-card"><div class="prob-pct">60%</div><div class="prob-txt"><strong>LÃ m trÃ¡i ngÃ nh sau tá»‘t nghiá»‡p</strong><br>Gáº§n 60% lao Ä‘á»™ng Viá»‡t Nam lÃ m viá»‡c khÃ´ng liÃªn quan Ä‘áº¿n chuyÃªn ngÃ nh Ä‘Ã o táº¡o â€” lÃ£ng phÃ­ 4â€“6 nÄƒm há»c.</div></div>
    </div>
  </div>
</section>

<!-- HOW IT WORKS -->
<section id="how">
  <div class="wrap">
    <div class="lbl">Quy trÃ¬nh</div>
    <h2 class="ttl">5 bÆ°á»›c tá»« thÃ´ng tin<br><em>Ä‘áº¿n Ä‘á» xuáº¥t</em></h2>
    <p class="sub">Pipeline thiáº¿t káº¿ theo chuáº©n ML System â€” tá»« thu tháº­p dá»¯ liá»‡u Ä‘áº¿n inference vÃ  constraint filtering.</p>
    <div class="steps">
      <div class="step"><div class="step-n">01</div><div><div class="step-ttl">Nháº­p thÃ´ng tin cÃ¡ nhÃ¢n</div><div class="step-desc">Sá»Ÿ thÃ­ch, nÄƒng lá»±c há»c táº­p, Ä‘iá»u kiá»‡n tÃ i chÃ­nh vÃ  má»¥c tiÃªu nghá» nghiá»‡p â€” Ä‘Æ°á»£c thu tháº­p qua 5 cÃ¢u há»i má»Ÿ, tráº£ lá»i báº±ng vÄƒn báº£n tá»± do.</div><span class="tag">Data collection</span></div></div>
      <div class="step"><div class="step-n">02</div><div><div class="step-ttl">TrÃ­ch xuáº¥t Ä‘áº·c trÆ°ng</div><div class="step-desc">CÃ¢u tráº£ lá»i Ä‘Æ°á»£c phÃ¢n tÃ­ch qua keyword mapping ngá»¯ nghÄ©a tiáº¿ng Viá»‡t, Ã¡nh xáº¡ thÃ nh tÃ­n hiá»‡u RIASEC, academic strength vÃ  financial constraint.</div><span class="tag">Feature extraction Â· NLP</span></div></div>
      <div class="step"><div class="step-n">03</div><div><div class="step-ttl">MÃ£ hÃ³a vector & tÃ­nh Ä‘iá»ƒm</div><div class="step-desc">CÃ¡c tÃ­n hiá»‡u Ä‘Æ°á»£c tá»•ng há»£p thÃ nh vector há»“ sÆ¡ vá»›i weighted scoring. Äiá»ƒm tÆ°Æ¡ng Ä‘á»“ng tÃ­nh qua dot-product trong khÃ´ng gian RIASEC Ã— O*NET.</div><span class="tag">Vector encoding Â· Similarity scoring</span></div></div>
      <div class="step"><div class="step-n">04</div><div><div class="step-ttl">Lá»c qua rÃ ng buá»™c báº£n Ä‘á»‹a hÃ³a</div><div class="step-desc">Äiá»ƒm chuáº©n vÃ  há»c phÃ­ thá»±c táº¿ cá»§a cÃ¡c trÆ°á»ng Ä‘áº¡i há»c Viá»‡t Nam hoáº¡t Ä‘á»™ng nhÆ° hard constraint â€” loáº¡i bá» lá»™ trÃ¬nh khÃ´ng kháº£ thi.</div><span class="tag">Constraint filtering Â· Localization</span></div></div>
      <div class="step"><div class="step-n">05</div><div><div class="step-ttl">Äá» xuáº¥t ngÃ nh nghá» & lá»™ trÃ¬nh há»c</div><div class="step-desc">Há»‡ thá»‘ng tráº£ vá» danh sÃ¡ch ngÃ nh phÃ¹ há»£p nháº¥t kÃ¨m gá»£i Ã½ trÆ°á»ng Ä‘áº¡i há»c vÃ  vector Ä‘áº·c trÆ°ng Ä‘Ã£ trÃ­ch xuáº¥t Ä‘á»ƒ ngÆ°á»i dÃ¹ng kiá»ƒm chá»©ng.</div><span class="tag">Recommendation output</span></div></div>
    </div>
  </div>
</section>

<!-- AI TECH -->
<section id="ai">
  <div class="wrap">
    <div class="lbl">CÃ´ng nghá»‡ AI</div>
    <h2 class="ttl">KhÃ´ng pháº£i tráº¯c nghiá»‡m tÃ­nh cÃ¡ch â€”<br><em>Ä‘Ã¢y lÃ  AI System Design</em></h2>
    <div class="ai-grid">
      <div class="ai-text">
        <p>Há»‡ thá»‘ng chuyá»ƒn bÃ i toÃ¡n hÆ°á»›ng nghiá»‡p thÃ nh <strong>bÃ i toÃ¡n tÃ¬m kiáº¿m lÃ¡ng giá»ng gáº§n nháº¥t</strong> trong khÃ´ng gian Ä‘áº·c trÆ°ng nghá» nghiá»‡p Ä‘a chiá»u.</p>
        <p>CÃ¢u tráº£ lá»i vÄƒn báº£n tá»± do Ä‘Æ°á»£c phÃ¢n tÃ­ch qua <strong>keyword mapping ngá»¯ nghÄ©a tiáº¿ng Viá»‡t</strong> â€” Ã¡nh xáº¡ vÃ o 6 chiá»u RIASEC vÃ  cÃ¡c Ä‘áº·c trÆ°ng bá»• sung vá» há»c lá»±c, tÃ­nh cÃ¡ch, tÃ i chÃ­nh.</p>
        <p>Äiá»ƒm tÆ°Æ¡ng Ä‘á»“ng tÃ­nh báº±ng <strong>dot-product cÃ³ trá»ng sá»‘</strong> trong khÃ´ng gian RIASEC Ã— O*NET â€” tÆ°Æ¡ng Ä‘Æ°Æ¡ng cosine similarity trÃªn Ä‘áº·c trÆ°ng rá»i ráº¡c. Káº¿t quáº£ lÃ  giÃ¡ trá»‹ liÃªn tá»¥c 0â€“100, khÃ´ng pháº£i nhÃ£n nhá»‹ phÃ¢n.</p>
        <p>ToÃ n bá»™ pipeline cháº¡y <strong>client-side trÃªn trÃ¬nh duyá»‡t</strong> â€” khÃ´ng phá»¥ thuá»™c káº¿t ná»‘i mÃ¡y chá»§ trong lÃºc suy luáº­n, hoáº¡t Ä‘á»™ng á»•n Ä‘á»‹nh trÃªn máº¡ng yáº¿u.</p>
        <div class="pills">
          <span class="pill">RIASEC Model</span><span class="pill">O*NET Database</span><span class="pill">Keyword NLP</span><span class="pill">Weighted Scoring</span><span class="pill">Feature Extraction</span><span class="pill">Constraint Filtering</span><span class="pill">Client-side Inference</span>
        </div>
      </div>
      <div class="diagram">
        <div class="d-title">Vector Space â€” Nearest Neighbor</div>
        <svg viewBox="0 0 320 265" xmlns="http://www.w3.org/2000/svg" style="width:100%">
          <line x1="38" y1="232" x2="300" y2="232" stroke="#DDD" stroke-width="1.5"/>
          <line x1="38" y1="232" x2="38" y2="18" stroke="#DDD" stroke-width="1.5"/>
          <polygon points="298,228 305,232 298,236" fill="#DDD"/>
          <polygon points="34,20 38,13 42,20" fill="#DDD"/>
          <text x="306" y="236" font-size="8" fill="#AAA" font-family="sans-serif">Ká»¹ thuáº­t</text>
          <text x="5" y="130" font-size="8" fill="#AAA" font-family="sans-serif" transform="rotate(-90,5,130)">XÃ£ há»™i</text>
          <circle cx="228" cy="62" r="6" fill="#2D6A4F" opacity=".8"/>
          <circle cx="252" cy="76" r="6" fill="#2D6A4F" opacity=".8"/>
          <circle cx="210" cy="78" r="6" fill="#2D6A4F" opacity=".8"/>
          <ellipse cx="235" cy="71" rx="35" ry="26" fill="none" stroke="#2D6A4F" stroke-width="1.2" stroke-dasharray="4,3" opacity=".4"/>
          <text x="235" y="106" text-anchor="middle" font-size="8" fill="#2D6A4F" font-family="sans-serif">Ká»¹ thuáº­t - CNTT</text>
          <circle cx="86" cy="70" r="6" fill="#E76F51" opacity=".8"/>
          <circle cx="107" cy="56" r="6" fill="#E76F51" opacity=".8"/>
          <circle cx="72" cy="87" r="6" fill="#E76F51" opacity=".8"/>
          <ellipse cx="88" cy="72" rx="34" ry="24" fill="none" stroke="#E76F51" stroke-width="1.2" stroke-dasharray="4,3" opacity=".4"/>
          <text x="88" y="106" text-anchor="middle" font-size="8" fill="#E76F51" font-family="sans-serif">Y táº¿ - Sá»©c khá»e</text>
          <circle cx="232" cy="180" r="6" fill="#7B5EA7" opacity=".8"/>
          <circle cx="255" cy="165" r="6" fill="#7B5EA7" opacity=".8"/>
          <circle cx="214" cy="190" r="6" fill="#7B5EA7" opacity=".8"/>
          <ellipse cx="233" cy="178" rx="36" ry="24" fill="none" stroke="#7B5EA7" stroke-width="1.2" stroke-dasharray="4,3" opacity=".4"/>
          <text x="233" y="212" text-anchor="middle" font-size="8" fill="#7B5EA7" font-family="sans-serif">Kinh doanh</text>
          <circle cx="85" cy="176" r="6" fill="#E9C46A" opacity=".9"/>
          <circle cx="106" cy="190" r="6" fill="#E9C46A" opacity=".9"/>
          <circle cx="68" cy="190" r="6" fill="#E9C46A" opacity=".9"/>
          <ellipse cx="86" cy="185" rx="34" ry="22" fill="none" stroke="#E9C46A" stroke-width="1.2" stroke-dasharray="4,3" opacity=".5"/>
          <text x="86" y="218" text-anchor="middle" font-size="8" fill="#B8942A" font-family="sans-serif">SÆ° pháº¡m - XH</text>
          <circle cx="168" cy="130" r="10" fill="#1A1A18" stroke="white" stroke-width="2"/>
          <text x="168" y="134" text-anchor="middle" font-size="8" fill="white" font-weight="bold" font-family="sans-serif">U</text>
          <text x="168" y="120" text-anchor="middle" font-size="7.5" fill="#1A1A18" font-weight="600" font-family="sans-serif">Báº¡n</text>
          <line x1="168" y1="130" x2="235" y2="71" stroke="#2D6A4F" stroke-width="1.8" stroke-dasharray="5,3"/>
          <text x="210" y="92" font-size="7.5" fill="#2D6A4F" font-weight="600" font-family="sans-serif">d=0.21 âœ“</text>
          <line x1="168" y1="130" x2="233" y2="178" stroke="#CCC" stroke-width="1.2" stroke-dasharray="4,4"/>
          <text x="212" y="163" font-size="7.5" fill="#AAA" font-family="sans-serif">d=0.48</text>
          <line x1="168" y1="130" x2="88" y2="72" stroke="#CCC" stroke-width="1.2" stroke-dasharray="4,4"/>
          <text x="112" y="93" font-size="7.5" fill="#AAA" font-family="sans-serif">d=0.61</text>
          <line x1="168" y1="130" x2="86" y2="185" stroke="#EEE" stroke-width="1" stroke-dasharray="3,5"/>
          <text x="110" y="168" font-size="7.5" fill="#CCC" font-family="sans-serif">d=0.74</text>
        </svg>
        <p style="font-size:.72rem;color:var(--ink3);margin-top:.65rem;line-height:1.5">Äiá»ƒm U (báº¡n) tÃ¬m cá»¥m nghá» nghiá»‡p cÃ³ khoáº£ng cÃ¡ch nhá» nháº¥t trong khÃ´ng gian Ä‘áº·c trÆ°ng.</p>
      </div>
    </div>
  </div>
</section>

<!-- VALUE -->
<section id="value">
  <div class="wrap">
    <div class="lbl">GiÃ¡ trá»‹ & Pháº¡m vi</div>
    <h2 class="ttl">KhÃ´ng pháº£i tráº¯c nghiá»‡m â€”<br><em>Ä‘Ã¢y lÃ  decision-support system</em></h2>
    <p class="sub">Há»‡ thá»‘ng khÃ´ng Ã¡p dá»¥ng heuristic scoring hay rule-based matching. Má»i Ä‘á» xuáº¥t xuáº¥t phÃ¡t tá»« embedding-based similarity search trong khÃ´ng gian Ä‘áº·c trÆ°ng nghá» nghiá»‡p Ä‘a chiá»u.</p>
    <div class="val-contrast">
      <div class="vc-col">
        <div class="vc-head">Há»‡ thá»‘ng truyá»n thá»‘ng</div>
        <ul class="vc-list">
          <li>PhÃ¢n loáº¡i tÃ­nh cÃ¡ch báº±ng cÃ¢u há»i Likert cá»‘ Ä‘á»‹nh</li>
          <li>GÃ¡n nhÃ³m nghá» theo rule cá»©ng â€” thiáº¿u Ä‘á»™ phÃ¢n giáº£i</li>
          <li>KhÃ´ng xÃ©t Ä‘iá»u kiá»‡n tÃ i chÃ­nh hay Ä‘iá»ƒm chuáº©n</li>
          <li>Dá»¯ liá»‡u tÄ©nh, khÃ´ng cáº­p nháº­t theo thá»‹ trÆ°á»ng lao Ä‘á»™ng</li>
        </ul>
      </div>
      <div class="vc-col">
        <div class="vc-head">Há»‡ thá»‘ng nÃ y</div>
        <ul class="vc-list">
          <li>User profile mÃ£ hÃ³a thÃ nh normalized vector RIASEC Ã— O*NET</li>
          <li>Nearest neighbor search â€” káº¿t quáº£ liÃªn tá»¥c, khÃ´ng nhá»‹ phÃ¢n</li>
          <li>Post-inference constraint layer: Ä‘iá»ƒm chuáº©n + há»c phÃ­ VN</li>
          <li>Kiáº¿n trÃºc há»— trá»£ periodic retraining khi thá»‹ trÆ°á»ng thay Ä‘á»•i</li>
        </ul>
      </div>
    </div>
    <div class="val-grid">
      <div class="val-card"><span class="val-icon">âš™ï¸</span><h3>Embedding-based matching</h3><p>Há»“ sÆ¡ ngÆ°á»i dÃ¹ng vÃ  nghá» nghiá»‡p biá»ƒu diá»…n trong cÃ¹ng má»™t khÃ´ng gian vector. Má»©c Ä‘á»™ phÃ¹ há»£p lÃ  giÃ¡ trá»‹ liÃªn tá»¥c â€” khÃ´ng pháº£i nhÃ£n "phÃ¹ há»£p / khÃ´ng phÃ¹ há»£p".</p></div>
      <div class="val-card"><span class="val-icon">ğŸ”’</span><h3>Constraint filtering sau inference</h3><p>Äiá»ƒm chuáº©n vÃ  há»c phÃ­ cÃ¡c trÆ°á»ng Ä‘áº¡i há»c Viá»‡t Nam hoáº¡t Ä‘á»™ng nhÆ° hard constraint â€” loáº¡i bá» lá»™ trÃ¬nh khÃ´ng kháº£ thi trÆ°á»›c khi tráº£ káº¿t quáº£.</p></div>
      <div class="val-card"><span class="val-icon">ğŸ“¡</span><h3>Inference cháº¡y client-side</h3><p>ToÃ n bá»™ tÃ­nh toÃ¡n thá»±c thi trÃªn trÃ¬nh duyá»‡t â€” khÃ´ng phá»¥ thuá»™c káº¿t ná»‘i mÃ¡y chá»§. Hoáº¡t Ä‘á»™ng á»•n Ä‘á»‹nh trÃªn máº¡ng 3G yáº¿u vÃ  thiáº¿t bá»‹ cáº¥u hÃ¬nh tháº¥p.</p></div>
      <div class="val-card"><span class="val-icon">ğŸ”</span><h3>Kiáº¿n trÃºc há»— trá»£ retraining</h3><p>TÃ¡ch biá»‡t offline training vÃ  online inference â€” cÃ³ thá»ƒ cáº­p nháº­t dá»¯ liá»‡u vÃ  tÃ¡i huáº¥n luyá»‡n Ä‘á»‹nh ká»³ mÃ  khÃ´ng áº£nh hÆ°á»Ÿng tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng.</p></div>
    </div>
    <div class="impact">
      <div class="impact-ico">ğŸ«</div>
      <div class="impact-txt">
        <strong>Triá»ƒn khai Ä‘Æ°á»£c á»Ÿ cáº£ cáº¥p Ä‘á»™ trÆ°á»ng há»c â€” khÃ´ng chá»‰ ngÆ°á»i dÃ¹ng cÃ¡ nhÃ¢n</strong>
        <span>GiÃ¡o viÃªn chá»§ nhiá»‡m cÃ³ thá»ƒ dÃ¹ng há»‡ thá»‘ng nhÆ° cÃ´ng cá»¥ tÆ° váº¥n hÆ°á»›ng nghiá»‡p cho cáº£ lá»›p â€” má»Ÿ rá»™ng tá»« B2C sang B2B2C mÃ  khÃ´ng cáº§n thay Ä‘á»•i háº¡ táº§ng, vÃ¬ toÃ n bá»™ logic cháº¡y trÃªn trÃ¬nh duyá»‡t.</span>
      </div>
    </div>
  </div>
</section>

<!-- TRY -->
<section id="try">
  <div class="wrap">
    <div class="lbl" style="text-align:center">Phá»ng váº¥n AI</div>
    <h2 class="ttl" style="text-align:center">Chia sáº» vá» báº£n thÃ¢n â€”<br><em>AI sáº½ há»i thÃªm náº¿u cáº§n</em></h2>
    <p class="sub" style="text-align:center;margin:0 auto 2.5rem">Tráº£ lá»i tá»± nhiÃªn. Náº¿u cÃ¢u tráº£ lá»i chÆ°a Ä‘á»§ thÃ´ng tin, há»‡ thá»‘ng sáº½ há»i thÃªm Ä‘á»ƒ phÃ¢n tÃ­ch chÃ­nh xÃ¡c hÆ¡n.</p>

    <div class="form-wrap">
      <div id="quiz">
        <div class="progress-bar"><div class="progress-fill" id="prog"></div></div>
        <div class="step-track" id="step-track"></div>
        <div id="qbox"></div>
      </div>

      <div id="loading">
        <div class="spin"></div>
        <p class="loading-title">AI Ä‘ang phÃ¢n tÃ­ch há»“ sÆ¡ cá»§a báº¡n...</p>
        <div class="l-steps">
          <div class="l-step" id="ls1">TrÃ­ch xuáº¥t Ä‘áº·c trÆ°ng tá»« cÃ¢u tráº£ lá»i</div>
          <div class="l-step" id="ls2">MÃ£ hÃ³a vector há»“ sÆ¡ RIASEC Ã— O*NET</div>
          <div class="l-step" id="ls3">TÃ­nh Ä‘iá»ƒm tÆ°Æ¡ng Ä‘á»“ng vá»›i cÆ¡ sá»Ÿ dá»¯ liá»‡u nghá»</div>
          <div class="l-step" id="ls4">Lá»c theo Ä‘iá»ƒm chuáº©n vÃ  há»c phÃ­ thá»±c táº¿</div>
        </div>
      </div>

      <div id="result">
        <div class="r-head"><h2>Káº¿t quáº£ phÃ¢n tÃ­ch cá»§a báº¡n</h2><p id="rsub">Dá»±a trÃªn há»“ sÆ¡ RIASEC vÃ  rÃ ng buá»™c thá»±c táº¿</p></div>
        <div class="fv" id="fv"><div class="fv-lbl">Vector Ä‘áº·c trÆ°ng Ä‘Ã£ trÃ­ch xuáº¥t</div><div class="fv-tags" id="fvtags"></div></div>
        <div class="careers" id="careers"></div>
        <div class="r-note">Gá»£i Ã½ dá»±a trÃªn mÃ´ hÃ¬nh RIASEC Ã— O*NET káº¿t há»£p rÃ ng buá»™c Ä‘iá»ƒm chuáº©n vÃ  há»c phÃ­ Viá»‡t Nam.<br>Há»‡ thá»‘ng thá»±c táº¿ sáº½ phÃ¢n tÃ­ch chi tiáº¿t hÆ¡n vá»›i Ä‘áº§y Ä‘á»§ dá»¯ liá»‡u Ä‘Ã o táº¡o.</div>
        <button class="btn-reset" onclick="reset()">â†º LÃ m láº¡i tá»« Ä‘áº§u</button>
      </div>
    </div>
  </div>
</section>

<footer>
  <div class="f-logo"><span>HÆ°á»›ng</span>Nghiá»‡p AI</div>
  <div class="f-note">Dá»¯ liá»‡u: RIASEC (Holland) Â· O*NET Â· Äiá»ƒm chuáº©n Viá»‡t Nam 2024</div>
</footer>

<style>
/* â”€â”€ ADAPTIVE Q&A EXTRAS â”€â”€ */
.step-track{display:flex;gap:.35rem;margin-bottom:1.25rem;flex-wrap:wrap}
.step-dot{width:8px;height:8px;border-radius:50%;background:var(--line);flex-shrink:0}
.step-dot.done{background:var(--green)}
.step-dot.active{background:var(--ink)}
.step-dot.followup{background:var(--orange);width:6px;height:6px}

.q-card{animation:qin .25s ease}
@keyframes qin{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}

.q-badge{display:inline-flex;align-items:center;gap:.4rem;font-size:.7rem;font-weight:700;
  letter-spacing:.08em;text-transform:uppercase;margin-bottom:.5rem}
.q-badge.core{color:var(--ink3)}
.q-badge.followup{color:var(--orange)}
.q-badge.followup::before{content:'â†³';font-weight:400}

.f-q{font-family:var(--f);font-size:1.2rem;line-height:1.3;margin-bottom:1.1rem;color:var(--ink)}

.hint-chip{display:inline-block;font-size:.72rem;background:var(--green-lt);color:var(--green);
  border:1px solid #C8E6D8;border-radius:4px;padding:.18rem .55rem;margin:.2rem .2rem 0 0;cursor:pointer}
.hint-chip:hover{background:#D4EBE0}

.quality-bar{height:2px;background:var(--line);border-radius:1px;margin-top:.5rem;overflow:hidden}
.quality-fill{height:100%;border-radius:1px;width:0;transition:width .4s ease}
.quality-fill.low{background:#E9C46A}
.quality-fill.ok{background:var(--green)}

.ans-foot{display:flex;justify-content:space-between;align-items:center;margin-top:.3rem;min-height:1rem}
</style>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ADAPTIVE Q&A ENGINE â€” HÆ°á»›ngNghiá»‡p AI
// Core questions â†’ assess quality â†’ inject follow-ups
//  if features are sparse â†’ pipeline when sufficient
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

var MIN=10, answers=[], qHistory=[], totalSignals=0;

// â”€â”€ QUESTION BANK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Core: always asked. followup: injected when parent dim is empty
var CORE=[
  {id:'c1',dim:'interest',
   lbl:'Sá»Ÿ thÃ­ch',
   q:'Khi cÃ³ thá»i gian tá»± do, báº¡n thÆ°á»ng lÃ m gÃ¬? Ká»ƒ cá»¥ thá»ƒ má»™t hoáº·c hai hoáº¡t Ä‘á»™ng báº¡n thá»±c sá»± thÃ­ch.',
   ph:'VÃ­ dá»¥: MÃ¬nh hay xem video vá» láº­p trÃ¬nh vÃ  tá»± há»c code...',
   followups:[
     {id:'f1a',dim:'interest',
      q:'Trong nhá»¯ng hoáº¡t Ä‘á»™ng Ä‘Ã³, báº¡n thÃ­ch pháº§n nÃ o nháº¥t â€” tá»± tay lÃ m ra thá»© gÃ¬, hay tÃ¬m hiá»ƒu vÃ  phÃ¢n tÃ­ch?',
      ph:'VÃ­ dá»¥: MÃ¬nh thÃ­ch nháº¥t lÃºc code xong vÃ  tháº¥y chÆ°Æ¡ng trÃ¬nh cháº¡y Ä‘Æ°á»£c...'},
     {id:'f1b',dim:'interest',
      q:'CÃ³ mÃ´n há»c hoáº·c chá»§ Ä‘á» nÃ o ngoÃ i trÆ°á»ng mÃ  báº¡n tá»± tÃ¬m hiá»ƒu thÃªm khÃ´ng?',
      ph:'VÃ­ dá»¥: MÃ¬nh hay Ä‘á»c thÃªm vá» lá»‹ch sá»­ chiáº¿n tranh, hoáº·c xem kÃªnh khoa há»c...'}
   ]},
  {id:'c2',dim:'academic',
   lbl:'NÄƒng lá»±c há»c táº­p',
   q:'á» trÆ°á»ng, báº¡n há»c tá»‘t vÃ  thÃ­ch nháº¥t mÃ´n gÃ¬? Äiá»ƒm sá»‘ tá»•ng quÃ¡t cá»§a báº¡n nhÆ° tháº¿ nÃ o?',
   ph:'VÃ­ dá»¥: MÃ¬nh há»c tá»‘t ToÃ¡n vÃ  LÃ½, Ä‘iá»ƒm trung bÃ¬nh khoáº£ng 8.5, dá»± Ä‘á»‹nh thi khá»‘i A...',
   followups:[
     {id:'f2a',dim:'academic',
      q:'Báº¡n há»c khá»‘i gÃ¬ hoáº·c Ä‘á»‹nh thi tá»• há»£p mÃ´n nÃ o vÃ o Ä‘áº¡i há»c?',
      ph:'VÃ­ dá»¥: MÃ¬nh há»c ban tá»± nhiÃªn, dá»± thi khá»‘i A00 (ToÃ¡n-LÃ½-HÃ³a)...'},
     {id:'f2b',dim:'academic',
      q:'MÃ´n nÃ o báº¡n tháº¥y khÃ³ vÃ  Ã­t há»©ng thÃº nháº¥t?',
      ph:'VÃ­ dá»¥: MÃ¬nh há»c VÄƒn vÃ  Sá»­ khÃ¡ yáº¿u, khÃ´ng thÃ­ch láº¯m...'}
   ]},
  {id:'c3',dim:'personality',
   lbl:'TÃ­nh cÃ¡ch',
   q:'Báº¡n thÃ­ch lÃ m viá»‡c má»™t mÃ¬nh, vá»›i nhÃ³m nhá», hay tiáº¿p xÃºc nhiá»u ngÆ°á»i? MÃ´ táº£ mÃ´i trÆ°á»ng lÃ m viá»‡c lÃ½ tÆ°á»Ÿng.',
   ph:'VÃ­ dá»¥: MÃ¬nh thÃ­ch lÃ m trong mÃ´i trÆ°á»ng yÃªn tÄ©nh, táº­p trung, cÃ³ thá»ƒ lÃ m Ä‘á»™c láº­p...',
   followups:[
     {id:'f3a',dim:'personality',
      q:'Khi gáº·p váº¥n Ä‘á» khÃ³, báº¡n thÆ°á»ng tá»± giáº£i quyáº¿t má»™t mÃ¬nh hay tÃ¬m ngÆ°á»i tháº£o luáº­n?',
      ph:'VÃ­ dá»¥: MÃ¬nh hay thá»­ tá»± giáº£i trÆ°á»›c rá»“i má»›i há»i thÃªm...'}
   ]},
  {id:'c4',dim:'goal',
   lbl:'Má»¥c tiÃªu',
   q:'Báº¡n hÃ¬nh dung mÃ¬nh sáº½ lÃ m nghá» gÃ¬ trong 10 nÄƒm tá»›i? DÃ¹ chÆ°a cháº¯c cháº¯n, hÃ£y ká»ƒ Ä‘iá»u báº¡n muá»‘n Ä‘áº¡t Ä‘Æ°á»£c.',
   ph:'VÃ­ dá»¥: MÃ¬nh muá»‘n lÃ m trong lÄ©nh vá»±c cÃ´ng nghá»‡, cÃ³ thá»ƒ lÃ  ká»¹ sÆ° pháº§n má»m...',
   followups:[
     {id:'f4a',dim:'goal',
      q:'Äiá»u gÃ¬ khiáº¿n báº¡n há»©ng thÃº vá»›i hÆ°á»›ng Ä‘Ã³ â€” thu nháº­p, Ä‘am mÃª, hay tÃ¡c Ä‘á»™ng xÃ£ há»™i?',
      ph:'VÃ­ dá»¥: MÃ¬nh thÃ­ch vÃ¬ cÃ´ng nghá»‡ Ä‘ang phÃ¡t triá»ƒn nhanh vÃ  thu nháº­p tá»‘t...'},
     {id:'f4b',dim:'goal',
      q:'Báº¡n cÃ³ idol hay ngÆ°á»i mÃ  báº¡n muá»‘n há»c theo vá» nghá» nghiá»‡p khÃ´ng?',
      ph:'VÃ­ dá»¥: MÃ¬nh tháº¥y cÃ¡c ká»¹ sÆ° AI á»Ÿ Google ráº¥t hay, hoáº·c bÃ¡c sÄ© nhÆ° ba mÃ¬nh...'}
   ]},
  {id:'c5',dim:'finance',
   lbl:'Äiá»u kiá»‡n thá»±c táº¿',
   q:'Gia Ä‘Ã¬nh cÃ³ thá»ƒ há»— trá»£ há»c phÃ­ khoáº£ng bao nhiÃªu má»—i nÄƒm? Báº¡n muá»‘n há»c gáº§n nhÃ  hay sáºµn sÃ ng lÃªn thÃ nh phá»‘ lá»›n?',
   ph:'VÃ­ dá»¥: Gia Ä‘Ã¬nh mÃ¬nh cÃ³ thá»ƒ chi khoáº£ng 30â€“40 triá»‡u má»—i nÄƒm. MÃ¬nh sáºµn sÃ ng lÃªn HÃ  Ná»™i...',
   followups:[
     {id:'f5a',dim:'finance',
      q:'NgoÃ i há»c phÃ­, gia Ä‘Ã¬nh cÃ³ thá»ƒ há»— trá»£ thÃªm chi phÃ­ sinh hoáº¡t náº¿u báº¡n há»c xa nhÃ  khÃ´ng?',
      ph:'VÃ­ dá»¥: Ba máº¹ cÃ³ thá»ƒ cho thÃªm khoáº£ng 3â€“4 triá»‡u/thÃ¡ng tiá»n á»Ÿ vÃ  Äƒn...'}
   ]}
];

// â”€â”€ QUALITY ASSESSMENT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Returns 0-1 score for how information-rich an answer is for a dimension
function qualityScore(text, dim) {
  var t = text.toLowerCase(), score = 0;
  var dimKeywords = {
    interest: ['thÃ­ch','mÃ¬nh','hay','thÆ°á»ng','sá»Ÿ thÃ­ch','Ä‘am mÃª','yÃªu','ghÃ©t','chÃ¡n','vui','buá»“n',
               'láº­p trÃ¬nh','code','váº½','nháº¡c','Ä‘á»c','viáº¿t','náº¥u','chÆ¡i','xem','há»c','nghiÃªn cá»©u',
               'thiáº¿t káº¿','thá»ƒ thao','du lá»‹ch','náº¥u Äƒn','phim','sÃ¡ch','game'],
    academic: ['toÃ¡n','lÃ½','hÃ³a','sinh','vÄƒn','anh','sá»­','Ä‘á»‹a','tin','Ä‘iá»ƒm','trung bÃ¬nh','khá»‘i',
               'giá»i','khÃ¡','tá»‘t','yáº¿u','kÃ©m','thi','8','9','7','a0','b0','c0','d0'],
    personality: ['mÃ¬nh','má»™t mÃ¬nh','nhÃ³m','Ä‘á»™i','ngÆ°á»i','mÃ´i trÆ°á»ng','yÃªn tÄ©nh','á»“n Ã o','thÃ­ch',
                  'lÃ m viá»‡c','tÃ­nh cÃ¡ch','hÆ°á»›ng ná»™i','hÆ°á»›ng ngoáº¡i','Ä‘á»™c láº­p','há»£p tÃ¡c'],
    goal: ['muá»‘n','Æ°á»›c','nghá»','cÃ´ng viá»‡c','tÆ°Æ¡ng lai','sau nÃ y','ká»¹ sÆ°','bÃ¡c sÄ©','giÃ¡o viÃªn',
           'lÃ m','thu nháº­p','tiá»n','Ä‘am mÃª','Ä‘Ã³ng gÃ³p','thÃ nh cÃ´ng','ná»•i tiáº¿ng'],
    finance: ['triá»‡u','tiá»n','há»c phÃ­','gia Ä‘Ã¬nh','ba','máº¹','gáº§n','xa','hÃ  ná»™i','hcm','tá»‰nh',
              '20','30','40','50','khÃ´ng giá»›i háº¡n','thoáº£i mÃ¡i','háº¡n cháº¿','Ã­t']
  };
  var kws = dimKeywords[dim] || [];
  var hits = kws.filter(function(w){return t.indexOf(w)>=0}).length;
  score = Math.min(1, hits / 3); // 3+ keywords = full score
  // Penalize very short answers
  if (t.length < 30) score *= 0.3;
  else if (t.length < 60) score *= 0.65;
  return score;
}

// Check which dims are under-covered after all answered so far
function getMissingDims() {
  var coverage = {interest:0, academic:0, personality:0, goal:0, finance:0};
  answers.forEach(function(a) {
    var q = getQById(a.qid);
    if (q) coverage[q.dim] = Math.max(coverage[q.dim], qualityScore(a.text, q.dim));
  });
  return Object.keys(coverage).filter(function(d){ return coverage[d] < 0.4; });
}

function getQById(id) {
  for (var i=0;i<CORE.length;i++){
    if (CORE[i].id===id) return CORE[i];
    for (var j=0;j<(CORE[i].followups||[]).length;j++)
      if (CORE[i].followups[j].id===id) return CORE[i].followups[j];
  }
  return null;
}

// â”€â”€ QUEUE ENGINE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
var queue=[];    // ordered list of question objects to ask
var qIdx=0;      // current position in queue

function buildInitialQueue() {
  queue = CORE.map(function(c){ return {q:c, isFollowup:false}; });
  qIdx = 0;
}

// After answering question at qIdx-1, check if we need a followup
function maybeInjectFollowup(answeredQ, answerText) {
  var q = answeredQ;
  if (!q.followups || q.followups.length===0) return;
  var score = qualityScore(answerText, q.dim);
  if (score < 0.35) {
    // Pick the most relevant followup (first one by default)
    var fu = q.followups[0];
    // Don't add if already queued
    var already = queue.some(function(item){ return item.q.id===fu.id; });
    if (!already) {
      queue.splice(qIdx, 0, {q:fu, isFollowup:true, parentDim:q.dim});
    }
  }
}

// â”€â”€ RENDER CURRENT QUESTION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderQ() {
  var item = queue[qIdx];
  if (!item) { startPipeline(); return; }
  var q = item.q;
  var isFollowup = item.isFollowup;

  // Update progress
  var pct = Math.round((qIdx / (queue.length + 1)) * 100);
  document.getElementById('prog').style.width = Math.max(pct, 8) + '%';

  // Update step dots
  var track = document.getElementById('step-track');
  track.innerHTML = '';
  for (var i=0;i<queue.length;i++) {
    var dot = document.createElement('span');
    dot.className = 'step-dot' +
      (i < qIdx ? ' done' : i===qIdx ? ' active' : '') +
      (queue[i].isFollowup ? ' followup' : '');
    track.appendChild(dot);
  }

  // Build question card
  var card = document.createElement('div');
  card.className = 'q-card';
  card.id = 'qbox-inner';

  var badge = isFollowup
    ? '<span class="q-badge followup">Há»i thÃªm Â· ' + q.dim + '</span>'
    : '<span class="q-badge core">' + (q.lbl||'CÃ¢u há»i') + ' Â· ' + (qIdx+1) + ' / ' + queue.length + '</span>';

  // Hint chips for follow-ups to make answering easier
  var hints = '';
  if (isFollowup) {
    var hintMap = {
      interest: ['VÃ¬ Ä‘am mÃª','VÃ¬ dá»… kiáº¿m tiá»n','KhÃ´ng biáº¿t','Muá»‘n giÃºp ngÆ°á»i'],
      academic: ['Khá»‘i A (ToÃ¡n-LÃ½-HÃ³a)','Khá»‘i B (ToÃ¡n-HÃ³a-Sinh)','Khá»‘i C (VÄƒn-Sá»­-Äá»‹a)','Khá»‘i D (ToÃ¡n-VÄƒn-Anh)'],
      personality: ['ThÃ­ch lÃ m má»™t mÃ¬nh','ThÃ­ch lÃ m nhÃ³m','TÃ¹y cÃ´ng viá»‡c'],
      goal: ['Äam mÃª','Thu nháº­p tá»‘t','Muá»‘n Ä‘Ã³ng gÃ³p xÃ£ há»™i','ChÆ°a biáº¿t'],
      finance: ['CÃ³ thá»ƒ há»— trá»£ sinh hoáº¡t','Chá»‰ Ä‘á»§ há»c phÃ­','Gia Ä‘Ã¬nh khÃ³ khÄƒn']
    };
    var hList = hintMap[q.dim] || [];
    if (hList.length) {
      hints = '<div style="margin-bottom:.85rem">' +
        '<span style="font-size:.72rem;color:var(--ink3);display:block;margin-bottom:.3rem">Gá»£i Ã½ nhanh (báº¥m Ä‘á»ƒ Ä‘iá»n):</span>' +
        hList.map(function(h){
          return '<span class="hint-chip" onclick="addHint(this,\'' + h + '\')">' + h + '</span>';        }).join('') + '</div>';
    }
  }

  card.innerHTML =
    badge +
    '<div class="f-q">' + q.q + '</div>' +
    hints +
    '<div class="ans-wrap">' +
      '<textarea class="ans" id="cur-ans" placeholder="' + q.ph + '" maxlength="400" rows="4"></textarea>' +
      '<div class="ans-foot">' +
        '<span class="counter" id="cur-ct">0 / 400</span>' +
        '<span class="errmsg" id="cur-err">Vui lÃ²ng nháº­p Ã­t nháº¥t 10 kÃ½ tá»±.</span>' +
      '</div>' +
      '<div class="quality-bar"><div class="quality-fill" id="q-fill"></div></div>' +
    '</div>' +
    '<button class="btn-next" id="cur-btn" onclick="submitCur()" disabled>' +
      (qIdx===queue.length-1 ? 'PhÃ¢n tÃ­ch há»“ sÆ¡ â†’' : 'Tiáº¿p tá»¥c â†’') +
    '</button>';

  var box = document.getElementById('qbox');
  box.innerHTML = '';
  box.appendChild(card);

  // Wire textarea
  var ta = document.getElementById('cur-ans');
  var ct = document.getElementById('cur-ct');
  var btn = document.getElementById('cur-btn');
  var fill = document.getElementById('q-fill');

  ta.addEventListener('input', function() {
    var l = this.value.length;
    ct.textContent = l + ' / 400';
    ct.className = 'counter' + (l>350?' warn':'');
    btn.disabled = l < MIN;
    if (l >= MIN) {
      this.classList.remove('err');
      document.getElementById('cur-err').classList.remove('show');
    }
    // Quality bar
    var qs = qualityScore(this.value, q.dim);
    var w = Math.round(qs * 100);
    fill.style.width = w + '%';
    fill.className = 'quality-fill ' + (qs >= 0.5 ? 'ok' : 'low');
    // Update button label on last step
    if (qIdx === queue.length-1 && l >= MIN) btn.textContent = 'PhÃ¢n tÃ­ch há»“ sÆ¡ â†’';
  });
  ta.addEventListener('keydown', function(e){
    if ((e.ctrlKey||e.metaKey) && e.key==='Enter' && !btn.disabled) submitCur();
  });
  setTimeout(function(){ ta.focus(); }, 80);
}

function addHint(el, text) {
  var ta = document.getElementById('cur-ans');
  ta.value = (ta.value + (ta.value?' ':'')).trimStart() + text;
  ta.dispatchEvent(new Event('input'));
  ta.focus();
  el.style.opacity='.4';el.style.pointerEvents='none';
}

// â”€â”€ SUBMIT CURRENT ANSWER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function submitCur() {
  var ta = document.getElementById('cur-ans');
  var val = ta.value.trim();
  if (val.length < MIN) {
    ta.classList.add('err');
    document.getElementById('cur-err').classList.add('show');
    return;
  }

  var item = queue[qIdx];
  answers.push({ qid: item.q.id, dim: item.q.dim, text: val, features: extract(val) });

  // Decide whether to inject a follow-up for this question
  if (!item.isFollowup) {
    maybeInjectFollowup(item.q, val);
  }

  qIdx++;

  // Check if all core dims covered sufficiently â€” early finish
  var missing = getMissingDims();
  var coresDone = CORE.every(function(c){
    return answers.some(function(a){ return a.qid===c.id; });
  });

  if (coresDone && missing.length===0) {
    startPipeline(); return;
  }
  if (qIdx >= queue.length) {
    startPipeline(); return;
  }

  renderQ();
}

// â”€â”€ FEATURE EXTRACTION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function extract(txt) {
  var t=txt.toLowerCase(),f={interest:[],academicStrength:[],financialConstraint:0,careerGoal:''};
  var RM={
    R:['sá»­a','cÆ¡ khÃ­','Ä‘iá»‡n','ká»¹ thuáº­t','robot','mÃ¡y','láº¯p','thá»±c hÃ nh','hÃ n','nÃ´ng','trá»“ng','xÃ¢y','láº¯p rÃ¡p','cÃ´ng trÆ°á»ng'],
    I:['nghiÃªn cá»©u','Ä‘á»c sÃ¡ch','khoa há»c','tÃ¬m hiá»ƒu','phÃ¢n tÃ­ch','toÃ¡n','váº­t lÃ½','hÃ³a','sinh','thÃ­ nghiá»‡m','data','ai','láº­p trÃ¬nh','code','thuáº­t toÃ¡n','logic','tÆ° duy','khÃ¡m phÃ¡','há»c há»i'],
    A:['váº½','thiáº¿t káº¿','nháº¡c','sÃ¡ng tÃ¡c','viáº¿t','nghá»‡ thuáº­t','sÃ¡ng táº¡o','thá»i trang','nhiáº¿p áº£nh','phim','video','kiáº¿n trÃºc','ux','ui','graphic','content','anime','truyá»‡n','sÃ¡ng tÃ¡c'],
    S:['giÃºp Ä‘á»¡','dáº¡y','báº¡n bÃ¨','gáº·p gá»¡','trÃ² chuyá»‡n','há»— trá»£','tÃ¬nh nguyá»‡n','cá»™ng Ä‘á»“ng','chÄƒm sÃ³c','y táº¿','Ä‘iá»u dÆ°á»¡ng','tÃ¢m lÃ½','giÃ¡o dá»¥c','sÆ° pháº¡m','tráº» em','ngÆ°á»i giÃ ','bá»‡nh nhÃ¢n','xÃ£ há»™i'],
    E:['kinh doanh','thuyáº¿t phá»¥c','lÃ£nh Ä‘áº¡o','dáº«n dáº¯t','bÃ¡n hÃ ng','marketing','quáº£n lÃ½','chiáº¿n lÆ°á»£c','khá»Ÿi nghiá»‡p','startup','tá»• chá»©c','sá»± kiá»‡n','thÆ°Æ¡ng máº¡i','Ä‘Ã m phÃ¡n','tiá»n','giÃ u'],
    C:['káº¿ hoáº¡ch','sáº¯p xáº¿p','káº¿ toÃ¡n','tÃ i chÃ­nh','excel','sá»‘ liá»‡u','bÃ¡o cÃ¡o','hÃ nh chÃ­nh','ngÃ¢n hÃ ng','kiá»ƒm toÃ¡n','thuáº¿','thá»‘ng kÃª','cáº©n tháº­n','tá»‰ má»‰','chi tiáº¿t','quy trÃ¬nh']
  };
  var AM={
    math:['toÃ¡n','váº­t lÃ½','khá»‘i a','a00','a01','tá»± nhiÃªn'],
    science:['hÃ³a','sinh','khá»‘i b','b00','dÆ°á»£c','y khoa','nÃ´ng nghiá»‡p'],
    language:['vÄƒn','tiáº¿ng anh','ngoáº¡i ngá»¯','khá»‘i d','d01','ielts','toeic','ngÃ´n ngá»¯'],
    social:['lá»‹ch sá»­','Ä‘á»‹a lÃ½','gdcd','khá»‘i c','c00','xÃ£ há»™i','chÃ­nh trá»‹'],
    tech:['tin há»c','láº­p trÃ¬nh','code','it','cÃ´ng nghá»‡','khá»‘i a1','a01','python','java','mÃ¡y tÃ­nh'],
    arts:['nháº¡c','váº½','má»¹ thuáº­t','thiáº¿t káº¿','kiáº¿n trÃºc','thá»ƒ thao','nghá»‡ thuáº­t']
  };
  var FP=[
    {r:/dÆ°á»›i\s*20|khoáº£ng\s*1[0-9]|10[-â€“]20|Ã­t tiá»n|khÃ³ khÄƒn|háº¡n cháº¿|khÃ´ng nhiá»u|tháº¥p/i,v:1},
    {r:/20[-â€“\s]*40|khoáº£ng\s*[23][0-9]|30[-â€“]40|trung bÃ¬nh|táº§m\s*3/i,v:2},
    {r:/40[-â€“\s]*80|táº§m\s*[456][0-9]|50[-â€“]80|khÃ¡ giáº£|khÃ¡/i,v:3},
    {r:/khÃ´ng giá»›i háº¡n|thoáº£i mÃ¡i|khÃ´ng váº¥n Ä‘á»|100|trÃªn\s*80|nhiá»u tiá»n|gia Ä‘Ã¬nh giÃ u/i,v:4}
  ];
  var GP=[
{r:/ká»¹ sÆ°|láº­p trÃ¬nh|pháº§n má»m|\bit\b|cÃ´ng nghá»‡|\bai\b|machine learning/i,g:'Ká»¹ sÆ° / CÃ´ng nghá»‡'},
    {r:/bÃ¡c sÄ©|y khoa|y táº¿|dÆ°á»£c sÄ©|Ä‘iá»u dÆ°á»¡ng|chá»¯a bá»‡nh/i,g:'Y táº¿ & Sá»©c khá»e'},
    {r:/giÃ¡o viÃªn|sÆ° pháº¡m|dáº¡y há»c|giáº£ng dáº¡y/i,g:'GiÃ¡o dá»¥c & SÆ° pháº¡m'},
    {r:/kinh doanh|doanh nhÃ¢n|khá»Ÿi nghiá»‡p|startup|marketing/i,g:'Kinh doanh'},
    {r:/thiáº¿t káº¿|nghá»‡ sÄ©|kiáº¿n trÃºc sÆ°|há»a sÄ©|nháº¡c sÄ©/i,g:'SÃ¡ng táº¡o & Nghá»‡ thuáº­t'},
    {r:/káº¿ toÃ¡n|tÃ i chÃ­nh|ngÃ¢n hÃ ng|kiá»ƒm toÃ¡n|chá»©ng khoÃ¡n/i,g:'TÃ i chÃ­nh & Káº¿ toÃ¡n'},
    {r:/luáº­t sÆ°|phÃ¡p lÃ½|luáº­t /i,g:'Luáº­t & PhÃ¡p lÃ½'}
  ];
  var sc={};
  for(var k in RM){sc[k]=RM[k].filter(function(w){return t.indexOf(w)>=0}).length;}
  f.interest=Object.keys(sc).sort(function(a,b){return sc[b]-sc[a]}).filter(function(k){return sc[k]>0}).slice(0,3);
  for(var d in AM){if(AM[d].some(function(w){return t.indexOf(w)>=0}))f.academicStrength.push(d);}
  for(var j=0;j<FP.length;j++){if(FP[j].r.test(t)){f.financialConstraint=FP[j].v;break;}}
  for(var j=0;j<GP.length;j++){if(GP[j].r.test(t)){f.careerGoal=GP[j].g;break;}}
  return f;
}

// â”€â”€ VECTOR ENCODING â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function encode(feats){
  var rc={R:0,I:0,A:0,S:0,E:0,C:0},ac={},fc=0,cg='';
  feats.forEach(function(f){
    f.interest.forEach(function(t,i){rc[t]=(rc[t]||0)+(3-i);});
    f.academicStrength.forEach(function(a){ac[a]=(ac[a]||0)+1;});
    if(f.financialConstraint)fc=f.financialConstraint;
    if(f.careerGoal)cg=f.careerGoal;
  });
  var sr=Object.keys(rc).sort(function(a,b){return rc[b]-rc[a]});
  var ta=Object.keys(ac).sort(function(a,b){return(ac[b]||0)-(ac[a]||0)})[0]||'math';
  return{primary:sr[0]||'I',secondary:sr[1]||'C',topAcademic:ta,financialConstraint:fc,careerGoal:cg};
}

// â”€â”€ CAREER MATCHING â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function match(v){
  var db=[
    {n:'Ká»¹ sÆ° Pháº§n má»m / AI',  r:['I','R','C'],a:['tech','math'],t:[2,3,4],s:'BÃ¡ch Khoa, FPT, KHTN'},
    {n:'Khoa há»c Dá»¯ liá»‡u',      r:['I','C'],    a:['tech','math'],t:[2,3,4],s:'KHTN, NEU, FPT'},
    {n:'An toÃ n ThÃ´ng tin',     r:['I','R'],    a:['tech','math'],t:[2,3],  s:'PTIT, BÃ¡ch Khoa'},
    {n:'Ká»¹ sÆ° CÆ¡ khÃ­ / XD',    r:['R','I'],    a:['math'],       t:[1,2,3],s:'BÃ¡ch Khoa, XÃ¢y dá»±ng, GTVT'},
    {n:'Ká»¹ sÆ° Äiá»‡n â€“ Äiá»‡n tá»­', r:['R','I'],    a:['math'],       t:[1,2,3],s:'BÃ¡ch Khoa, Äiá»‡n lá»±c'},
    {n:'BÃ¡c sÄ© Äa khoa',        r:['I','S'],    a:['science'],    t:[1,2,3],s:'ÄH Y HÃ  Ná»™i, YDS HCM'},
    {n:'DÆ°á»£c sÄ©',               r:['I','R'],    a:['science'],    t:[2,3],  s:'DÆ°á»£c HN, DÆ°á»£c HCM'},
    {n:'Äiá»u dÆ°á»¡ng',            r:['S','R'],    a:['science'],    t:[1,2],  s:'ÄH Y, ÄH Äiá»u dÆ°á»¡ng'},
    {n:'Quáº£n trá»‹ Kinh doanh',   r:['E','C'],    a:['math','social'],t:[2,3,4],s:'UEH, NEU, FTU'},
    {n:'TÃ i chÃ­nh â€“ NgÃ¢n hÃ ng', r:['C','E'],    a:['math'],       t:[2,3],  s:'UEH, NEU, HVNH'},
    {n:'Marketing',             r:['E','A'],    a:['social','language'],t:[2,3,4],s:'UEH, VÄƒn Lang, Duy TÃ¢n'},
    {n:'Káº¿ toÃ¡n â€“ Kiá»ƒm toÃ¡n',   r:['C'],        a:['math'],       t:[1,2,3],s:'UEH, NEU, UEL'},
    {n:'SÆ° pháº¡m',               r:['S','C'],    a:['language','social'],t:[1,2],s:'ÄHSP HN, ÄHSP HCM'},
    {n:'TÃ¢m lÃ½ há»c',            r:['S','I'],    a:['social'],     t:[2,3],  s:'ÄHSP, KHXH&NV'},
    {n:'CÃ´ng tÃ¡c XÃ£ há»™i',       r:['S'],        a:['social'],     t:[1,2],  s:'Lao Ä‘á»™ng XH, ÄHSP'},
    {n:'Thiáº¿t káº¿ Äá»“ há»a',       r:['A','I'],    a:['arts'],       t:[2,3,4],s:'Má»¹ thuáº­t CN, FPT, RMIT'},
    {n:'Kiáº¿n trÃºc',             r:['A','R'],    a:['arts','math'],t:[2,3,4],s:'KTS HN, KTS HCM'},
    {n:'BÃ¡o chÃ­ & Truyá»n thÃ´ng',r:['A','S'],    a:['language'],   t:[2,3],  s:'Há»c viá»‡n BC-TT, HUFLIT'},
    {n:'Luáº­t',                  r:['E','C'],    a:['language','social'],t:[1,2,3],s:'ÄH Luáº­t HN, ÄH Luáº­t HCM'},
    {n:'Quan há»‡ Quá»‘c táº¿',       r:['E','S'],    a:['language','social'],t:[2,3,4],s:'ÄHQG, Ngoáº¡i giao'}
  ];
  db.forEach(function(c){
    var sc=0;
    if(c.r.indexOf(v.primary)>=0)sc+=3;
    if(c.r.indexOf(v.secondary)>=0)sc+=1.5;
    if(c.a.indexOf(v.topAcademic)>=0)sc+=2;
    c.score=Math.round(sc/6.5*100);
  });
  var ranked=db.slice().sort(function(a,b){return b.score-a.score});
  if(v.financialConstraint){
    var f=ranked.filter(function(c){return c.t.indexOf(v.financialConstraint)>=0});
    if(f.length>=3)ranked=f;
  }
  return ranked.slice(0,3);
}

// â”€â”€ PIPELINE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function startPipeline(){
  document.getElementById('prog').style.width='100%';
  document.getElementById('quiz').style.display='none';
  document.getElementById('loading').style.display='block';
  var ids=['ls1','ls2','ls3','ls4'],delays=[500,1100,1800,2400];
  ids.forEach(function(id,i){
    setTimeout(function(){
      if(i>0){var p=document.getElementById(ids[i-1]);p.className='l-step ok';}
      document.getElementById(id).className='l-step on';
    },delays[i]);
  });
  setTimeout(function(){
    document.getElementById(ids[3]).className='l-step ok';
    document.getElementById('loading').style.display='none';
    render();
  },3000);
}

// â”€â”€ RENDER RESULTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function render(){
  var feats=answers.map(function(a){return a.features;});
  var vec=encode(feats),careers=match(vec);
  var TN={R:'Thá»±c hÃ nh',I:'NghiÃªn cá»©u',A:'SÃ¡ng táº¡o',S:'XÃ£ há»™i',E:'Doanh nghiá»‡p',C:'Tá»• chá»©c'};
  var BN={0:'ChÆ°a xÃ¡c Ä‘á»‹nh',1:'< 20tr/nÄƒm',2:'20â€“40tr/nÄƒm',3:'40â€“80tr/nÄƒm',4:'KhÃ´ng giá»›i háº¡n'};
  var AN={math:'ToÃ¡n/LÃ½',science:'Sinh/HÃ³a',language:'NgÃ´n ngá»¯',social:'XÃ£ há»™i',tech:'Tin há»c',arts:'Nghá»‡ thuáº­t'};
  var qCount = answers.length;
  var fuCount = answers.filter(function(a){
    var q=getQById(a.qid); return q&&q.id&&q.id[0]==='f';
  }).length;
  document.getElementById('rsub').textContent=
    'RIASEC: '+TN[vec.primary]+' Ã— '+TN[vec.secondary]+
    ' Â· NgÃ¢n sÃ¡ch: '+BN[vec.financialConstraint]+
    (vec.careerGoal?' Â· '+vec.careerGoal:'')+
    ' Â· '+qCount+' cÃ¢u ('+(fuCount?' bao gá»“m '+fuCount+' há»i thÃªm':'khÃ´ng cáº§n há»i thÃªm')+')';
  var tags=[
    {l:'RIASEC: '+vec.primary+vec.secondary,c:'r'},
    {l:'Há»c lá»±c: '+(AN[vec.topAcademic]||vec.topAcademic),c:'a'},
    {l:'NgÃ¢n sÃ¡ch: '+BN[vec.financialConstraint],c:'f'},
    {l:'Sá»‘ cÃ¢u: '+qCount,c:'g'}
  ];
  if(vec.careerGoal)tags.push({l:vec.careerGoal,c:'g'});
  document.getElementById('fvtags').innerHTML=tags.map(function(t){
    return'<span class="fvt '+t.c+'">'+t.l+'</span>';
  }).join('');
  document.getElementById('fv').style.display='block';
  document.getElementById('careers').innerHTML=careers.map(function(c,i){
    return'<div class="c-card'+(i===0?' top':'')+'">'+
      '<div class="c-score">'+c.score+'%</div>'+
      '<div class="c-info"><h4>'+c.n+'</h4><p>TrÆ°á»ng gá»£i Ã½: '+c.s+'</p></div>'+
    '</div>';
  }).join('');
  document.getElementById('result').style.display='block';
}

// â”€â”€ RESET â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function reset(){
  answers=[];queue=[];qIdx=0;
  ['ls1','ls2','ls3','ls4'].forEach(function(id){
    document.getElementById(id).className='l-step';
  });
  document.getElementById('result').style.display='none';
  document.getElementById('fv').style.display='none';
  document.getElementById('loading').style.display='none';
  document.getElementById('quiz').style.display='block';
  document.getElementById('prog').style.width='8%';
  buildInitialQueue();
  renderQ();
}

// â”€â”€ INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
buildInitialQueue();
renderQ();
</script>
</body>
</html>
